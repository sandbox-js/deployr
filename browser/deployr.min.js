!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.deployr=t()}}(function(){var t;return function e(t,r,o){function n(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return n(r?r:e)},c,c.exports,e,t,r,o)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e){e.exports={"/r/user/login":{method:"POST",format:"json"},"/r/user/logout":{method:"POST",format:"json"},"/r/user/about":{method:"POST",format:"json"},"/r/user/autosave":{method:"POST",format:"json"},"/r/project/create":{method:"POST",format:"json"},"/r/project/pool":{method:"POST",format:"json"},"/r/project/recycle":{method:"POST",format:"json"},"/r/project/list":{method:"POST",format:"json"},"/r/project/ping":{method:"POST",format:"json"},"/r/project/about":{method:"POST",format:"json"},"/r/project/about/update":{method:"POST",format:"json"},"/r/project/save":{method:"POST",format:"json"},"/r/project/saveas":{method:"POST",format:"json"},"/r/project/close":{method:"POST",format:"json"},"/r/project/grant":{method:"POST",format:"json"},"/r/project/import":{method:"POST",format:"json",upload:!0},"/r/project/export":{method:"POST",format:"json"},"/r/project/delete":{method:"POST",format:"json"},"/r/project/execute/code":{method:"POST",format:"json"},"/r/project/execute/script":{method:"POST",format:"json"},"/r/project/execute/interrupt":{method:"POST",format:"json"},"/r/project/execute/console":{method:"POST",format:"json"},"/r/project/execute/history":{method:"POST",format:"json"},"/r/project/execute/flush":{method:"POST",format:"json"},"/r/project/execute/result/list":{method:"POST",format:"json"},"/r/project/execute/result/download":{method:"POST",format:"json"},"/r/project/execute/result/delete":{method:"POST",format:"json"},"/r/project/workspace/list":{method:"POST",format:"json"},"/r/project/workspace/get":{method:"POST",format:"json"},"/r/project/workspace/upload":{method:"POST",format:"json",upload:!0},"/r/project/workspace/transfer":{method:"POST",format:"json"},"/r/project/workspace/push":{method:"POST",format:"json"},"/r/project/workspace/save":{method:"POST",format:"json"},"/r/project/workspace/store":{method:"POST",format:"json"},"/r/project/workspace/load":{method:"POST",format:"json"},"/r/project/workspace/delete":{method:"POST",format:"json"},"/r/project/directory/list":{method:"POST",format:"json"},"/r/project/directory/upload":{method:"POST",format:"json",upload:!0},"/r/project/directory/transfer":{method:"POST",format:"json"},"/r/project/directory/write":{method:"POST",format:"json"},"/r/project/directory/update":{method:"POST",format:"json"},"/r/project/directory/store":{method:"POST",format:"json"},"/r/project/directory/load":{method:"POST",format:"json"},"/r/project/directory/download":{method:"POST",format:"json"},"/r/project/directory/delete":{method:"POST",format:"json"},"/r/project/package/list":{method:"POST",format:"json"},"/r/project/package/attach":{method:"POST",format:"json"},"/r/project/package/detach":{method:"POST",format:"json"},"/r/job/list":{method:"POST",format:"json"},"/r/job/submit":{method:"POST",format:"json"},"/r/job/schedule":{method:"POST",format:"json"},"/r/job/query":{method:"POST",format:"json"},"/r/job/cancel":{method:"POST",format:"json"},"/r/job/delete":{method:"POST",format:"json"},"/r/repository/directory/list":{method:"POST",format:"json"},"/r/repository/directory/create":{method:"POST",format:"json"},"/r/repository/directory/rename":{method:"POST",format:"json"},"/r/repository/directory/copy":{method:"POST",format:"json"},"/r/repository/directory/move":{method:"POST",format:"json"},"/r/repository/directory/update":{method:"POST",format:"json"},"/r/repository/script/list":{method:"POST",format:"json"},"/r/repository/script/execute":{method:"POST",format:"json"},"/r/repository/script/render":{method:"POST",format:"json"},"/r/repository/script/interrupt":{method:"POST",format:"json"},"/r/repository/directory/archive":{method:"POST",format:"json"},"/r/repository/directory/upload":{method:"POST",format:"json",upload:!0},"/r/repository/directory/download":{method:"POST",format:"json"},"/r/repository/directory/delete":{method:"POST",format:"json"},"/r/repository/file/list":{method:"POST",format:"json"},"/r/repository/file/fetch":{method:"POST",format:"json"},"/r/repository/file/fetch":{method:"POST",format:"json"},"/r/repository/file/upload":{method:"POST",format:"json",upload:!0},"/r/repository/file/transfer":{method:"POST",format:"json"},"/r/repository/file/write":{method:"POST",format:"json"},"/r/repository/file/update":{method:"POST",format:"json"},"/r/repository/file/diff":{method:"POST",format:"json"},"/r/repository/file/revert":{method:"POST",format:"json"},"/r/repository/file/grant":{method:"POST",format:"json"},"/r/repository/file/download":{method:"POST",format:"json"},"/r/repository/file/delete":{method:"POST",format:"json"},"/r/repository/file/copy":{method:"POST",format:"json"},"/r/repository/file/move":{method:"POST",format:"json"},"/r/server/info":{method:"GET",format:"json"}}},{}],2:[function(t,e){function r(t,e){var r=e.deployr?e.deployr.response.errorCode:e.status,o=this;j.events&&(e.deployr||(e=e.text),o=j.events.ctx||o,j.events.error&&j.events.error.apply(o,[t,e]),j.events[r]&&j.events[r].apply(o,[t,e]))}function o(t){f.call(this),this.options=t||{},this.options.log=this.options.log||o.LOG.error,this.ws=null,this.q=new h,this.channel={}}var n="undefined"!=typeof window,i=t("./lib/optional"),s=i("ws"),a=t("superagent"),u=t("d.js"),c=t("fs"),l=t("./apis.json"),p=t("./lib/logger"),h=t("./lib/queue"),f=t("./lib/emitter"),d=t("./lib/encoder"),y=t("./lib/merge"),m=t("./lib/selfish").Base,v=t("./lib/rinput"),R=t("./lib/rinputs"),T=null,j={cors:!1,logging:!1,host:"",maxRequests:null,events:{}},g=["user","project","workspace","execution","directory","repository","packages"],E=m.extend(f.prototype,R,{initialize:function(t,e){f.call(this);var r=j;if(!l[t])throw new Error('Invalid API "'+t+'"');this.scope=this,this.api=y({call:t},l[t]),this.link=e||{},this.q=this.link.queue||new h,this.deferred=this.link.deferred||u(),this.logger=p.get(t,p.OFF),this.params={},this.inputs=[],this.outputs=[],this._stream=!1,this.delayed=!1,this.file=null,this.entityFilter=null,this.data({format:this.api.format}),this.req=a[this.api.method.toLowerCase()](r.host+"/deployr"+t),this.req.timeout(12e5),n&&j.cors&&this.req.withCredentials(),this.api.upload?n||this.req.type("multipart/form-data"):this.req.type("form")},ctx:function(t){return this.scope=t||this,this},abort:function(){return this.req.abort(),this.emit("abort"),this},timeout:function(t){return this.req.timeout(t),this},sync:function(){return this},delay:function(t){return this.delayed=!isNaN(parseFloat(t))&&isFinite(t)?t:!0,this},drain:function(){return this.delayed=!1,this.q.flush(),this.deferred.promise},log:function(t){return this.logger.setLevel(t||p.DEBUG),this},entity:function(t){for(var e=0;e<g.length;e++)if(g[e]===t){this.entityFilter=t;break}return this},data:function(t){return this.params=y(this.params,t),this},attach:function(t,e){return this.api.upload&&(this.file=t,e&&this.data({filename:e})),this},stream:function(){return this._stream=!n&&this.api.upload,this},then:function(t,e){return this.deferred.promise.then(t,e),this.deferred.promise},ensure:function(t){return this.deferred.promise.ensure(t),this},error:function(t){var e=this;return this.on("error",t),this.req.on("error",function(t){e.emit("error",t)}),this},pipe:function(t){var e=this,r=this.q,o=this.emit;return r.add(function(n,i){if(i)return this.abort(),void this.emit("ensure");this._prepRequest(n);var s=this.req.pipe(t);r.yield(!0),s.on("error",function(t){console.log(t),o("error",t)}),s.on("end",function(t){console.log(t),console.log("end")}),s.on("finish",function(t){console.log("finish"),console.log(t)}),s.on("data",function(t){console.log(t),console.log("data")}),s.on("response",function(t){console.log("response"),T=t.headers["set-cookie"],t=t.body&&t.body.deployr?t.body:t,i=e._handleError(t),e.inputs=[],e.outputs=[],r.yield(!1),r.flush(t,i)})},this),r.size()<=1&&r.flush(),t},end:function(t){var e=this,r=this.q,o=null,n=this.entityFilter;return r.add(function(i,s,a){return s?(this.deferred.reject(s),this.req.abort(),r.flush(i,s,a),void this.destroy()):(this._prepRequest(i,a),p.info("io()",this.api,this.req),this.logger.info("io()",this.api,this.req),this.req.end(function(a){T=T||a.headers["set-cookie"],s=e._handleError(a);var u=a.body&&a.body.deployr?a.body:a;s||(p.info("end()",e.api,u,a),e.logger.info("end()",e.api,u,a)),!s&&n&&(u=u.deployr.response[n]||u),e.inputs=[],e.outputs=[],0!==r.size()||s||e.deferred.resolve(i||u),!s&&t&&(o=t.apply(e.scope,[u,i])),r.yield(!1),r.flush(u,s,o)}),void r.yield(!0))},this,this.delayed),!this.delayed&&r.size()<=1&&r.flush(),this},destroy:function(){this.offAll(),this.api=null,this.link=null,this.logger=null,this.params=null,this.inputs=null,this.outputs=null,this.file=null,this._stream=!1,this.delayed=!1,this.req=null},io:function(t,e){return E.new(t,{queue:this.q,fn:e,deferred:this.deferred})},routputs:function(t){return this.outputs=this.outputs.concat(t),this},routput:function(t){return this.routputs([t]),this},rinputs:function(t){return this.inputs=this.inputs.concat(t),this},rinput:function(t){return this.inputs.push(t),this},_prepRequest:function(t,e){var r=this.req,o=this.link.fn;if(e&&this.data(e),this.inputs.length>0&&this.data({inputs:d.encode(this.inputs)}),this.outputs.length>0&&this.data({robjects:this.outputs.join()}),o){var n=t?t[t.length-1]:null;this.data(o.apply(this,[n,t]))}if(T&&T.forEach(function(t){r.set("Cookie",t)}),this.api.upload){for(var i in this.params)this.req.field(i,this.params[i]);r.attach("file",this._stream?c.createReadStream(this.file):this.file)}else r["GET"===this.api.method?"query":"send"](this.params)},_handleError:function(t){var e=t.status,o=t.body&&t.body.deployr?t.body:t,n=200!==e||o.deployr&&!o.deployr.response.success;return n&&(o={deployr:{response:{success:!1,call:this.api.call,errorCode:o.deployr?o.deployr.response.errorCode:e,error:o.deployr?o.deployr.response.error:o.text}}},p.error("error()",this.api,o,t),this.logger.error("error()",this.api,o,t),r(this.api.call,o),this.emit("error",o),this.emit("deployr-io:"+o.deployr.response.errorCode,o),this.deferred.reject(o)),n}});o.LOG={info:"info",debug:"debug",error:"error"},o.parser={EVENT:"messageReceived",CONNECT:"streamHandshakeEvent",CONNECTING:"opening",DISCONNECT:"unsubscribe",ERROR:"error"},o.prototype.open=function(t){var e=this,r=(j.host||"")+"/deployr/r/event/stream?",o=[];return t=this.channel,t.project?o.push("project="+t.project):t.job&&o.push("job="+t.job),t.management?o.push("managementEventOnly=true"):t.httponly?o.push("httpEventOnly=true"):t.revoonly&&o.push("revoEventOnly=true"),r+=o.join("&").substr(0),r=r.replace("http://","ws://"),this.q.yield(!0),this.q.add(function(){var t=new s(r,T?{headers:{Cookie:T}}:{});t.onopen=function(t){e.emit("open",t)},t.onmessage=function(t){try{t=JSON.parse(t.data.split("!|!")[1]);var r=t.deployr.response.event.type;e.emit(r.replace("Event",""),t)}catch(o){console.log("This doesn't look like a valid JSON: ",t.data)}},t.onerror=function(t){e.emit("error",t)},this.ws=t},this),this},o.prototype.close=function(){return this.ws&&this.ws.close(),this},o.prototype.error=function(t){return this.on("error",t),this},o.prototype.management=function(){return this.channel={management:!0},this},o.prototype.flush=function(){this.q.yield(!1),this.q.flush()},f(o.prototype),n&&(window.Revolution=window.Revolution||t("./lib/deprecated")),e.exports={configure:function(t){t=t||{};for(var e in t)j[e]=t[e];return p.setLevel(j.logging?p.DEBUG:p.OFF),this},io:function(t){return E.new(t)},pipeline:function(t){function e(){o.add(function(){t.shift().drain().then(function(t){n.push(t),i.push(s),o.isEmpty()&&r.resolve({results:n,errors:i}),o.take()},function(t){n.push(s),i.push(t),o.isEmpty()&&0===n.length&&r.reject(i),o.take()})},null,!0)}var r=u(),o=new h,n=[],i=[],s=null;t=t.slice(0);for(var a=0;a<t.length;a++)e();return o.take(),r.promise},es:function(t){var e=new o(t);return t&&t.username&&t.password&&this.io("/r/user/login").data({username:t.username,password:t.password}).end(function(){e.flush()}),e},RInput:{numeric:function(t,e){return v.new(t,e).numeric()},integer:function(t,e){return v.new(t,e).integer()},logical:function(t,e){return v.new(t,e).logical()},character:function(t,e){return v.new(t,e).character()},date:function(t,e){return v.new(t,e).date()},posixct:function(t,e){return v.new(t,e).posixct()},numericVector:function(t,e){return v.new(t,e).numericVector()},integerVector:function(t,e){return v.new(t,e).integerVector()},logicalVector:function(t,e){return v.new(t,e).logicalVector()},characterVector:function(t,e){return v.new(t,e).characterVector()},dateVector:function(t,e){return v.new(t,e).dateVector()},posixctVector:function(t,e){return v.new(t,e).posixctVector()},list:function(t,e){return v.new(t,e).list()},dataframe:function(t,e){return v.new(t,e).dataframe()},factor:function(t,e,r,o,n){var i={ordered:r,levels:o,labels:n};return v.new(t,e,i).factor()},numericMatrix:function(t,e){return v.new(t,e).numericMatrix()},integerMatrix:function(t,e){return v.new(t,e).integerMatrix()},logicalMatrix:function(t,e){return v.new(t,e).logicalMatrix()},characterMatrix:function(t,e){return v.new(t,e).characterMatrix()}}}},{"./apis.json":1,"./lib/deprecated":3,"./lib/emitter":4,"./lib/encoder":5,"./lib/logger":7,"./lib/merge":8,"./lib/optional":9,"./lib/queue":10,"./lib/rinput":11,"./lib/rinputs":12,"./lib/selfish":14,"d.js":17,fs:15,superagent:18}],3:[function(t,e){function r(t,e){var r=e||globalConfig.entity;if(r)for(var o=t.deployr.response,n=p,i=0;i<n.length;i++){var s=n[i];if(o[s]&&r[s]&&r[s].parser){var a=r[s].scope||this;o[s]=r[s].parser.call(a,o[s])}}return t}function o(t){return t=t.replace("/r/",""),t.toLowerCase().replace(/\/(.)/g,function(t,e){return e.toUpperCase()})}function n(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].normalize());return e}function i(){}function s(t){console.log(t)}var a,u,c=(t("./lang"),t("./selfish").Base),l=t("./rinput"),p=["user","project","workspace","execution","directory","repository","packages"],h={ENDPOINT_WHITELIST:{login:"/r/user/login",logout:"/r/user/logout",projectCreate:"/r/project/create",projectClose:"/r/project/close",projectAboutUpdate:"/r/project/about/update",projectSave:"/r/project/save",projectSaveAs:"/r/project/saveas",clientProjectSave:"/r/client/project/save",clientProjectClose:"/r/client/project/close"},session:{},config:{},setUnloadConfig:function(t){t=t||{},this.config={disableautosave:t.disableautosave||!0,dropworkspace:t.dropworkspace||!0,dropdirectory:t.dropdirectory||!0,drophistory:t.drophistory||!0,flushhistory:t.flushhistory||!0}},setSession:function(t){this.session=t},setProject:function(t){this.session.project=t},clearSession:function(){this.session={}},clearProject:function(){this.session.project=null},unloadHandler:function(){try{var t=this.session.project;if(t){var e=this._config;e.project=t.id,e.projectcookie=t.cookie,deployr.io("/r/project/close").data(e).sync().end()}}catch(r){throw new Error(r)}}},f=c.extend({initialize:function(t,e,r){this.type=t,this.rclass=e,this.rinput=r},getType:function(){return this.type},getRClass:function(){return this.rclass},getName:function(){return this.rinput.name},getValue:function(){return this.rinput.value},getLevels:function(){return this.rinput.levels},getLabels:function(){return this.rinput.labels},getOrdered:function(){return this.rinput.ordered},normalize:function(){return this.rinput}});i.prototype={events:{},scope:null,on:function(t,e){return t in this.events==!1&&(this.events[t]=[]),this.events[t].push(e),s('Emitter.on("'+t+'")'),this},emit:function(t){if(t in this.events==!1)return this;for(var e=0;e<this.events[t].length;e++)s('Fired event: "'+t+'"'),this.events[t][e].apply(this.scope||this,Array.prototype.slice.call(arguments,1));return this},removeAllListeners:function(t){if(t){if(t in this.events==!1)return this;delete this.events[t]}else for(var e in this.events)delete this.events[e];return this},removeListenerAt:function(t,e){var r=this.events[t],o=r.slice(e+1);r.length=e,r.push.apply(r,o),this.events[t]=r},off:function(t,e){if(t in this.events==!1)return this;if(!e)return this.removeAllListeners(t);for(var r=0;r<this.events[t].length;r++)if(this.events[t][r]==e)return this.removeListenerAt(t,r),this;return this}},u=new i,a={version:t("../package").version,Event:{on:function(t,e,r){u.on(t,e,r)},detach:function(t,e){u.off(t,e)}},RDataFactory:{createNumeric:function(t,e){return f.new("primitive","numeric",l.new(t,e).numeric())},createInteger:function(t,e){return f.new("primitive","integer",l.new(t,e).integer())},createBoolean:function(t,e){return f.new("primitive","numeric",l.new(t,e).logical())},createString:function(t,e){return f.new("primitive","character",l.new(t,e).character())},createDate:function(t,e){return f.new("date","Date",l.new(t,e).date())},createPOSIXDate:function(t,e){return f.new("date","POSIXct",l.new(t,e).posixct())},createNumericVector:function(t,e){return f.new("vector","numeric",l.new(t,e).numericVector())},createIntegerVector:function(t,e){return f.new("vector","integer",l.new(t,e).integerVector())},createBooleanVector:function(t,e){return f.new("vector","logical",l.new(t,e).logicalVector())},createStringVector:function(t,e){return f.new("vector","character",l.new(t,e).characterVector())},createDateVector:function(t,e){return f.new("type","Date",l.new(t,e).dateVector())},createPOSIXDateVector:function(t,e){return f.new("vector","POSIXct",l.new(t,e).posixctVector())},createList:function(t,e){return f.new("list","list",l.new(t,e).list())},createDataframe:function(t,e){return f.new("dataframe","data.frame",l.new(t,e).dataframe())},createFactor:function(t,e,r,o,n){var i={ordered:r,levels:o,labels:n};return f.new("factor","factor",l.new(t,e,i).factor())},createNumericMatrix:function(t,e){return f.new("matrix","matrix",l.new(t,e).numericMatrix())},createIntegerMatrix:function(t,e){return f.new("matrix","matrix",l.new(t,e).integerMatrix())},createBooleanMatrix:function(t,e){return f.new("matrix","matrix",l.new(t,e).logicalMatrix())},createStringMatrix:function(t,e){return f.new("matrix","matrix",l.new(t,e).characterMatrix())}},DeployR:{init:function(t){if(t=t||{},t.compatibility,t.events){var e=t.events;if(e.unload&&(h.setUnloadConfig(e.unload),a.Event.on("deployR:unload",h.unloadHandler,h)),e.globalIO){var r=e.globalIO.scope||window,o=e.globalIO.lifecycle,n=e.globalIO.statusCode;if(o)for(var i in o)a.Event.on("deployR-io:"+i,o[i],r);if(n)for(var i in n)a.Event.on("deployR-io:"+i,n[i],r)}}deployr.configure({host:t.deployrURI,cors:t.deployrURI?!0:!1,logging:t.logging})},io:function(t,e,i){console&&console.warn('"'+o(t)+'()" API is now deprecated.'),i=i||{},e=e||{};var s=e.transaction||{},a=s.arguments,c=s.statusCode||{},l=i.scope||window,p=e.robjects,h=e.inputs;e.transaction&&delete e.transaction,e.method&&delete e.method,e.on&&delete e.on,e.format&&delete e.format,e.inputs&&delete e.inputs,e.robjects&&delete e.robjects;var f=deployr.io(t).data(e||{}).error(function(e){u.emit("deployR-io:failure",[e,t,a]),i.failure&&i.failure.apply(l,[e,t,a]),u.emit("deployR-io:"+code,[e,t,a])});if(h&&f.rinputs(n(h)),p&&f.routputs(p),s.sync&&f.sync(),s.timeout&&f.timeout(s.timeout),c)for(var d in c)f.on("deployr-io:"+d,function(e){var r=c,o=e.deployr.response.error,n=e.deployr.response.errorCode;r[n].apply(l,[e,n,o,t,a])});return u.emit("deployR-io:start"),i.start&&i.start.apply(l,[t,a]),f.end(function(e){u.emit("deployR-io:complete"),i.complete&&i.complete.apply(l,[e,t,a]),s.entity&&(e=r(e,s.entity)),u.emit("deployR-io:success",[e,t]),i.success&&i.success.apply(l,[e,t,a]),u.emit("deployR-io:end",[e,t]),i.end&&i.end.apply(l,[e,t,a])}),f},parseInputs:function(t){return t},projectWorkspaceList:function(t,e){return this.io("/r/project/workspace/list",t,e)},projectWorkspaceGet:function(t,e){return this.io("/r/project/workspace/get",t,e)},projectWorkspaceUpload:function(t,e){t.format="text";({data:t,method:"POST",form:{id:t.formId},on:e});return this.io("/r/project/workspace/upload",t,e)},projectWorkspaceTransfer:function(t,e){return this.io("/r/project/workspace/transfer",t,e)},projectWorkspacePush:function(t,e){return this.io("/r/project/workspace/push",t,e)},projectWorkspaceSave:function(t,e){return this.io("/r/project/workspace/save",t,e)},projectWorkspaceStore:function(t,e){return this.io("/r/project/workspace/store",t,e)},projectWorkspaceLoad:function(t,e){return this.io("/r/project/workspace/load",t,e)},projectWorkspaceDelete:function(t,e){return this.io("/r/project/workspace/delete",t,e)},projectCreate:function(t,e){return this.io("/r/project/create",t,e)},projectPool:function(t,e){return this.io("/r/project/pool",t,e)},projectRecycle:function(t,e){return this.io("/r/project/recycle",t,e)},projectList:function(t,e){return this.io("/r/project/list",t,e)},projectPing:function(t,e){return this.io("/r/project/ping",t,e)},projectAbout:function(t,e){return this.io("/r/project/about",t,e)},projectAboutUpdate:function(t,e){return this.io("/r/project/about/update",t,e)},projectSave:function(t,e){return this.io("/r/project/save",t,e)},projectSaveas:function(t,e){return this.io("/r/project/saveas",t,e)},projectClose:function(t,e){return this.io("/r/project/close",t,e)},projectGrant:function(t,e){return this.io("/r/project/grant",t,e)},projectImport:function(t,e){t.format="text";({data:t,method:"POST",form:{id:t.formId},on:e});return this.io("/r/project/import",t,e)},projectExport:function(t,e){return this.io("/r/project/export",t,e)},projectDelete:function(t,e){return this.io("/r/project/delete",t,e)},projectExecuteCode:function(t,e){return this.io("/r/project/execute/code",t,e)},projectExecuteScript:function(t,e){return this.io("/r/project/execute/script",t,e)},projectExecuteInterrupt:function(t,e){return this.io("/r/project/execute/interrupt",t,e)},projectExecuteConsole:function(t,e){return this.io("/r/project/execute/console",t,e)},projectExecuteHistory:function(t,e){return this.io("/r/project/execute/history",t,e)},projectExecuteFlush:function(t,e){return this.io("/r/project/execute/flush",t,e)},projectExecuteResultList:function(t,e){return this.io("/r/project/execute/result/list",t,e)},projectExecuteResultDownload:function(t,e){return this.io("/r/project/execute/result/download",t,e)},projectExecuteResultDelete:function(t,e){return this.io("/r/project/execute/result/delete",t,e)},projectDirectoryList:function(t,e){return this.io("/r/project/directory/list",t,e)},projectDirectoryUpload:function(t,e){t.format="text";({data:t,method:"POST",form:{id:t.formId},on:e});return this.io("/r/project/directory/upload",t,e)},projectDirectoryTransfer:function(t,e){return this.io("/r/project/directory/transfer",t,e)},projectDirectoryWrite:function(t,e){return this.io("/r/project/directory/write",t,e)},projectDirectoryUpdate:function(t,e){return this.io("/r/project/directory/update",t,e)},projectDirectoryStore:function(t,e){return this.io("/r/project/directory/store",t,e)},projectDirectoryLoad:function(t,e){return this.io("/r/project/directory/load",t,e)},projectDirectoryDownload:function(t,e){return this.io("/r/project/directory/download",t,e)},projectDirectoryDelete:function(t,e){return this.io("/r/project/directory/delete",t,e)},projectPackageList:function(t,e){return this.io("/r/project/package/list",t,e)},projectPackageAttach:function(t,e){return this.io("/r/project/package/attach",t,e)},projectPackageDetach:function(t,e){return this.io("/r/project/package/detach",t,e)},userLogin:function(t,e){return this.io("/r/user/login",t,e)},userLogout:function(t,e){return this.io("/r/user/logout",t,e)},userAbout:function(t){return this.io("/r/user/about",{},t)},userAutosave:function(t,e){return this.io("/r/user/autosave",t,e)},repositoryScriptList:function(t){return this.io("/r/repository/script/list",{},t)},repositoryScriptExecute:function(t,e){return this.io("/r/repository/script/execute",t,e)},repositoryScriptRender:function(t,e){return this.io("/r/repository/script/render",t,e)},repositoryScriptInterrupt:function(t){return this.io("/r/repository/script/interrupt",config,t)},repositoryFileList:function(t,e){return this.io("/r/repository/file/list",t,e)},repositoryFileUpload:function(t,e){t.format="text";({data:t,method:"POST",form:{id:t.formId},on:e});return this.io("/r/repository/file/upload",t,e)},repositoryFileTransfer:function(t,e){return this.io("/r/repository/file/transfer",t,e)},repositoryFileWrite:function(t,e){return this.io("/r/repository/file/write",t,e)},repositoryFileUpdate:function(t,e){return this.io("/r/repository/file/update",t,e)},repositoryFileRevert:function(t,e){return this.io("/r/repository/file/revert",t,e)},repositoryFileDiff:function(t,e){return this.io("/r/repository/file/diff",t,e)},repositoryFileGrant:function(t,e){return this.io("/r/repository/file/grant",t,e)},repositoryFileDownload:function(t,e){return this.io("/r/repository/file/download",t,e)},repositoryFileDelete:function(t,e){return this.io("/r/repository/file/delete",t,e)},repositoryFileFetch:function(t,e){return this.io("/r/repository/file/fetch",t,e)},repositoryFileCopy:function(t,e){return this.io("/r/repository/file/copy",t,e)},repositoryFileMove:function(t,e){return this.io("/r/repository/file/move",t,e)},repositoryDirectoryList:function(t,e){return this.io("/r/repository/directory/list",t,e)},repositoryDirectoryCreate:function(t,e){return this.io("/r/repository/directory/create",t,e)},repositoryDirectoryRename:function(t,e){return this.io("/r/repository/directory/rename",t,e)},repositoryDirectoryCopy:function(t,e){return this.io("/r/repository/directory/copy",t,e)},repositoryDirectoryMove:function(t,e){return this.io("/r/repository/directory/move",t,e)},repositoryDirectoryUpdate:function(t,e){return this.io("/r/repository/directory/update",t,e)},repositoryDirectoryArchive:function(t,e){return this.io("/r/repository/directory/archive",t,e)},repositoryDirectoryUpload:function(t,e){t=t||{},t.format="text";({data:t,method:"POST",form:{id:t.formId},on:e});return this.io("/r/repository/directory/upload",t,e)},repositoryDirectoryDownload:function(t,e){return this.io("/r/repository/directory/download",t,e)},repositoryDirectoryDelete:function(t,e){return this.io("/r/repository/directory/delete",t,e)},jobList:function(t,e){return this.io("/r/job/list",t,e)},jobSubmit:function(t,e){return this.io("/r/job/submit",t,e)},jobSchedule:function(t,e){return this.io("/r/job/schedule",t,e)},jobQuery:function(t,e){return this.io("/r/job/query",t,e)},jobCancel:function(t,e){return this.io("/r/job/list",t,e)},jobDelete:function(t,e){return this.io("/r/job/delete",t,e)}}},e.exports=a},{"../package":21,"./lang":6,"./rinput":11,"./selfish":14}],4:[function(t,e){function r(t){if(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}}function o(){}r.prototype={events:{},scope:null,addListener:function(t,e){return t in this.events==!1&&(this.events[t]=[]),this.events[t].push(e),o('Emitter.on("'+t+'")'),this},emit:function(t){if(t in this.events==!1)return this;for(var e=0;e<this.events[t].length;e++)o('Fired event: "'+t+'"'),this.events[t][e].apply(this.scope||this,Array.prototype.slice.call(arguments,1));return this},removeAllListeners:function(t){if(t){if(t in this.events==!1)return this;delete this.events[t]}else for(var e in this.events)delete this.events[e];return this},removeListenerAt:function(t,e){var r=this.events[t],o=r.slice(e+1);r.length=e,r.push.apply(r,o),this.events[t]=r},removeListener:function(t,e){if(t in this.events==!1)return this;if(!e)return this.removeAllListeners(t);for(var r=0;r<this.events[t].length;r++)if(this.events[t][r]==e)return this.removeListenerAt(t,r),this;return this}},r.prototype.on=r.prototype.addListener,r.prototype.off=r.prototype.removeListener,r.prototype.offAll=r.prototype.removeAllListeners,e.exports=r},{}],5:[function(t,e){function r(t,e){for(var r=[],n=0;n<t.length;n++)r.push(o(t[n],e));return r}function o(t,e){function r(t,e,r){for(var o=""+Math.abs(t),n=t>=0;o.length<e;)o="0"+o;return(n?r?"+":"":"-")+o}var o=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),s=t.getHours(),a=t.getMinutes(),u=t.getSeconds(),c=t.getTimezoneOffset(),p="";if(n=10>n?"0"+n:n,s=10>s?"0"+s:s,a=10>a?"0"+a:a,u=10>u?"0"+u:u,p=o+"-"+n+"-"+i,e===l.RPOSIX_DATE||e===l.RPOSIX_DATE_VECTOR){var h=s+":"+a+":"+u,f=-c,d="+";0>f&&(f=-f,d="-"),c=d+r(f/60,2)+""+r(f%60,2),p+=" "+h+" "+c}return p}function n(t,e){for(var i=t.value,s=0;s<i.length;s++){var c=i[s];c.type===l.RDATAFRAME?e=n(c,e):(u.isDate(c.type)&&(c.value=a.isArray(c.value)?r(c.value,c.type):o(c.value,c.type)),c.type=u.deployrToR(c.type),e.value.push(c))}return e}function i(t){for(var e={type:c.DATAFRAME,value:[],name:t.name},i=t.value,s=0;s<i.length;s++){var p=i[s];p.type===l.RDATAFRAME?e=n(p,e):(u.isDate(p.type)&&(p.value=a.isArray(p.value)?r(p.value,p.type):o(p.value,p.type)),p.type=u.deployrToR(p.type),e.value.push(p))}return e}function s(t){for(var e,n={type:c.LIST,value:[],name:t.name},a=t.value,u=0;u<a.length;u++){var p=a[u];switch(p.type){case l.RDATAFRAME:e=i(p);break;case l.RLIST:e=s(p);break;case l.RNUMERIC_MATRIX:case l.RINTEGER_MATRIX:case l.RBOOLEAN_MATRIX:case l.RSTRING_MATRIX:e={name:p.name,type:c.MATRIX,value:p.value};break;case l.RDATE:case l.RPOSIX_DATE:e={name:p.name,type:c.DATE,format:p.format,value:o(p.value,p.type)};break;case l.RFACTOR:e={name:p.name,type:c.FACTOR,ordered:p.ordered,labels:p.labels,levels:p.levels,value:p.value};break;case l.RSTRING:case l.RBOOLEAN:case l.RNUMERIC:case l.RINTEGER:e={name:p.name,type:c.PRIMITIVE,value:p.value};break;case l.RNUMERIC_VECTOR:case l.RINTEGER_VECTOR:case l.RBOOLEAN_VECTOR:case l.RSTRING_VECTOR:e={name:p.name,type:c.VECTOR,value:p.value};break;case l.RDATE_VECTOR:case l.RPOSIX_DATE_VECTOR:e={name:p.name,type:c.VECTOR,value:r(p.value,p.type),format:p.format};break;default:throw new Error('No RDataType found for "'+p.type+'"')}n.value.push(e)}return n}var a=t("./lang"),u=t("./rtypes"),c=u.r,l=u.deployr;e.exports={encode:function(t){for(var e={},n=0;n<t.length;n++){var a=t[n];switch(a.type){case l.RDATAFRAME:e[a.name]=i(a);break;case l.RLIST:e[a.name]=s(a);break;case l.RNUMERIC_MATRIX:case l.RINTEGER_MATRIX:case l.RBOOLEAN_MATRIX:case l.RSTRING_MATRIX:e[a.name]={type:c.MATRIX,value:a.value};break;case l.RDATE:case l.RPOSIX_DATE:e[a.name]={type:c.DATE,format:a.format,value:o(a.value,a.type)};break;case l.RFACTOR:e[a.name]={type:c.FACTOR,ordered:a.ordered,labels:a.labels,levels:a.levels,value:a.value};break;case l.RSTRING:case l.RBOOLEAN:case l.RNUMERIC:case l.RINTEGER:e[a.name]={type:c.PRIMITIVE,value:a.value};break;case l.RNUMERIC_VECTOR:case l.RINTEGER_VECTOR:case l.RBOOLEAN_VECTOR:case l.RSTRING_VECTOR:e[a.name]={type:c.VECTOR,value:a.value};break;case l.RDATE_VECTOR:case l.RPOSIX_DATE_VECTOR:e[a.name]={type:c.VECTOR,value:r(a.value,a.type),format:a.format};break;default:throw new Error('No RDataType found for "'+a.type+'"')}}return JSON.stringify(e)}}},{"./lang":6,"./rtypes":13}],6:[function(t,e){var r={},o=Object.prototype.toString,n={undefined:"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},i=!1;r.isNull=function(t){return null===t},r.isUndefined=function(t){return"undefined"==typeof t},r.isObject=function(t,e){var o=typeof t;return t&&("object"===o||!e&&("function"===o||r.isFunction(t)))||!1},r.isArray=!i&&Array.isArray||function(t){return"array"===r.type(t)
},r.isFunction=function(t){return"function"==typeof t},r.isBoolean=function(t){return"boolean"==typeof t},r.isDate=function(t){return"date"===r.type(t)&&"Invalid Date"!==t.toString()&&!isNaN(t)},r.isNumber=function(t){return"number"==typeof t&&isFinite(t)},r.isString=function(t){return"string"==typeof t},r.type=function(t){return n[typeof t]||n[o.call(t)]||(t?"object":"null")},e.exports=r},{}],7:[function(t,e){function r(t,e){function r(t){var e="==================================================================================================================\n",r=0;return r=t===i.DEBUG||t===i.ERROR?8:t===i.INFO||t===i.WARN?8:7,{start:e.substring(r),end:e}}if(console){var o,n=Array.prototype.slice.call(t,0),s=e.name,a=e.level===i.ERROR,u=r(e.level);o=e.level===i.WARN&&console.warn?"warn":e.level===i.ERROR&&console.error?"error":e.level===i.INFO&&console.info?"info":"log",n.unshift("["+(a?i.ERROR.name:s)+"] "+u.start),n.push(u.end),console[o](n[0],[n[1]+" ---> "+n[2].call]);for(var c=2;c<n.length;c++)console.log(n[c])}}function o(t,e){this.id=t,this.context=e||i.DEBUG}var n,i={},s={};o.prototype={log:function(t,e){t.value>=this.context.value&&r(e,{level:t,name:this.context.name,value:this.context.value})},debug:function(){this.log(i.DEBUG,arguments)},error:function(){this.log(i.ERROR,arguments)},info:function(){this.log(i.INFO,arguments)},warn:function(){this.log(i.WARN,arguments)},setLevel:function(t){t&&"value"in t&&(this.context=t)}},i.DEBUG={value:1,name:"DEBUG"},i.INFO={value:2,name:"INFO"},i.WARN={value:4,name:"WARN"},i.ERROR={value:8,name:"ERROR"},i.OFF={value:99,name:"OFF"},i.setLevel=function(t){n.setLevel(t)},i.debug=function(){n.debug.apply(n,arguments)},i.info=function(){n.info.apply(n,arguments)},i.warn=function(){n.warn.apply(n,arguments)},i.error=function(){n.error.apply(n,arguments)},i.get=function(t,e,r){return s[t]||function(){return s[t]=new o(t,e,r),s[t]}()},n=i.get("global"),e.exports=i},{}],8:[function(t,e){function r(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});for(var r in e)t[r]=e[r];return t}e.exports=r},{}],9:[function(t,e){e.exports=function(e){try{return t(e)}catch(r){}}},{}],10:[function(t,e){function r(){this.emptyCallback=null,this.callbacks=[],this.yielded=!1,this.response=null,this.responseChain=[]}r.prototype={add:function(t,e,r){this.yielded||r?this.callbacks.push({fn:t,ctx:e}):t.apply(e||this,[this.response])},size:function(){return this.callbacks.length},isEmpty:function(){return 0===this.callbacks.length},empty:function(t,e){this.emptyCallback={fn:t,ctx:e}},"yield":function(t){this.yielded=t},take:function(t,e,r){var o;t&&(this.response=t,this.responseChain.push(t)),!this.yielded&&this.callbacks[0]&&(o=this.callbacks.shift(),o.fn.apply(o.ctx||this,[this.responseChain,e,r]),this.callbacks[0]&&this.emptyCallback&&this.emptyCallback.fn.call(this.emptyCallback.ctx||this))},flush:function(t,e,r){for(t&&(this.response=t,this.responseChain.push(t));this.callbacks[0]&&!this.yielded;){var o=this.callbacks.shift();o.fn.apply(o.ctx||this,[this.responseChain,e,r]),this.callbacks[0]&&this.emptyCallback&&this.emptyCallback.fn.call(this.emptyCallback.ctx||this)}}},e.exports=r},{}],11:[function(t,e){var r=t("./selfish").Base;RTypes=t("./rtypes"),e.exports=r.extend(RTypes,{initialize:function(t,e,r){this.name=t,this.value=e,this.options=r||{}},numeric:function(){return this.assert({type:this.deployr.RNUMERIC,name:this.name,value:this.value})},integer:function(){return this.assert({type:this.deployr.RINTEGER,name:this.name,value:this.value})},logical:function(){return this.assert({type:this.deployr.RBOOLEAN,name:this.name,value:this.value})},character:function(){return this.assert({type:this.deployr.RSTRING,name:this.name,value:this.value})},date:function(){return this.assert({type:this.deployr.RDATE,name:this.name,value:this.value,format:"yyyy-MM-dd"})},posixct:function(){return this.assert({type:this.deployr.RPOSIX_DATE,name:this.name,value:this.value,format:"yyyy-MM-dd HH:mm:ss Z"})},numericVector:function(){return this.assert({type:this.deployr.RNUMERIC_VECTOR,name:this.name,value:this.value})},integerVector:function(){return this.assert({type:this.deployr.RINTEGER_VECTOR,name:this.name,value:this.value})},logicalVector:function(){return this.assert({type:this.deployr.RBOOLEAN_VECTOR,name:this.name,value:this.value})},characterVector:function(){return this.assert({type:this.deployr.RSTRING_VECTOR,name:this.name,value:this.value})},dateVector:function(){return this.assert({type:this.deployr.RDATE_VECTOR,name:this.name,value:this.value,format:"yyyy-MM-dd"})},posixctVector:function(){return this.assert({type:this.deployr.RPOSIX_DATE_VECTOR,name:this.name,value:this.value,format:"yyyy-MM-dd HH:mm:ss Z"})},list:function(){return this.assert({type:this.deployr.RLIST,name:this.name,value:this.value})},dataframe:function(){return this.assert({type:this.deployr.RDATAFRAME,name:this.name,value:this.value})},factor:function(){var t=this.options;return this.assert({type:this.deployr.RFACTOR,name:this.name,value:this.value,ordered:t.ordered,levels:t.levels,labels:t.labels})},numericMatrix:function(){return this.assert({type:this.deployr.RNUMERIC_MATRIX,name:this.name,value:this.value})},integerMatrix:function(){return this.assert({type:this.deployr.RINTEGER_MATRIX,name:this.name,value:this.value})},logicalMatrix:function(){return this.assert({type:this.deployr.RBOOLEAN_MATRIX,name:this.name,value:this.value})},characterMatrix:function(){return this.assert({type:this.deployr.RSTRING_MATRIX,name:this.name,value:this.value})}})},{"./rtypes":13,"./selfish":14}],12:[function(t,e){function r(t,e,r,o){var n;if(i.isObject(e)){if(n=e,!n.type!==t)throw new Error('IllegalArgumentError:Expecting "'+t+'" but found "'+n.type+'"')}else n=s.new(e,r,o)[t]();return n}var o=t("./selfish").Base,n=t("./rtypes"),i=t("./lang"),s=t("./rinput");e.exports=o.extend(n,{numeric:function(t,e){return this.inputs.push(r(this.deployr.RNUMERIC,t,e)),this},integer:function(t,e){return this.inputs.push(r(this.deployr.RINTEGER,t,e)),this},logical:function(t,e){return this.inputs.push(r(this.deployr.RBOOLEAN,t,e)),this},character:function(t,e){return this.inputs.push(r(this.deployr.RSTRING,t,e)),this},date:function(t,e){return this.inputs.push(r(this.deployr.RDATE,t,e)),this},posixct:function(t,e){return this.inputs.push(r(this.deployr.RPOSIX_DATE,t,e)),this},numericVector:function(t,e){return this.inputs.push(r(this.deployr.RNUMERIC_VECTOR,t,e)),this},integerVector:function(t,e){return this.inputs.push(r(this.deployr.RINTEGER_VECTOR,t,e)),this},logicalVector:function(t,e){return this.inputs.push(r(this.deployr.RBOOLEAN_VECTOR,t,e)),this},characterVector:function(t,e){return this.inputs.push(r(this.deployr.RSTRING_VECTOR,t,e)),this},dateVector:function(t,e){return this.inputs.push(r(this.deployr.RDATE_VECTOR,t,e)),this},posixctVector:function(t,e){return this.inputs.push(r(this.deployr.RPOSIX_DATE_VECTOR,t,e)),this},list:function(t,e){return this.inputs.push(r(this.deployr.RLIST,t,e)),this},dataframe:function(t,e){return this.inputs.push(r(this.deployr.RDATAFRAME,t,e)),this},factor:function(t,e,o,n,i){var s={ordered:o,levels:n,labels:i};return this.inputs.push(r(this.deployr.RFACTOR,t,e,s)),this},numericMatrix:function(t,e){return this.inputs.push(r(this.deployr.RNUMERIC_MATRIX,t,e)),this},integerMatrix:function(t,e){return this.inputs.push(r(this.deployr.RINTEGER_MATRIX,t,e)),this},logicalMatrix:function(t,e){return this.inputs.push(r(this.deployr.RBOOLEAN_MATRIX,t,e)),this},characterMatrix:function(t,e){return this.inputs.push(r(this.deployr.RSTRING_MATRIX,t,e)),this}})},{"./lang":6,"./rinput":11,"./rtypes":13,"./selfish":14}],13:[function(t,e){var r=t("./selfish").Base,o=t("./lang"),n={};e.exports=r.extend({r:{PRIMITIVE:"primitive",DATAFRAME:"dataframe",LIST:"list",MATRIX:"matrix",DATE:"date",FACTOR:"factor",VECTOR:"vector"},deployr:{RBOOLEAN:"logical",RNUMERIC:"numeric",RINTEGER:"integer",RSTRING:"character",RDATE:"date",RPOSIX_DATE:"posixct",RBOOLEAN_VECTOR:"logicalVector",RNUMERIC_VECTOR:"numericVector",RINTEGER_VECTOR:"integerVector",RSTRING_VECTOR:"characterVector",RDATE_VECTOR:"dateVector",RPOSIX_DATE_VECTOR:"posixctVector",RLIST:"list",RDATAFRAME:"dataframe",RFACTOR:"factor",RBOOLEAN_MATRIX:"logicalMatrix",RNUMERIC_MATRIX:"numericMatrix",RINTEGER_MATRIX:"integerMatrix",RSTRING_MATRIX:"characterMatrix"},isDate:function(t){return t===this.deployr.RDATE||t===this.deployr.RPOSIX_DATE||t===this.deployr.RDATE_VECTOR||t===this.deployr.RPOSIX_DATE_VECTOR||t===this.r.DATE},deployrToR:function(t){var e=this.deployr,r=this.r;return n[t]||(n[e.RBOOLEAN]=r.PRIMITIVE,n[e.RNUMERIC]=r.PRIMITIVE,n[e.RINTEGER]=r.PRIMITIVE,n[e.RSTRING]=r.PRIMITIVE,n[e.RDATE]=r.DATE,n[e.RPOSIX_DATE]=r.DATE,n[e.RBOOLEAN_VECTOR]=r.VECTOR,n[e.RNUMERIC_VECTOR]=r.VECTOR,n[e.RINTEGER_VECTOR]=r.VECTOR,n[e.RSTRING_VECTOR]=r.VECTOR,n[e.RDATE_VECTOR]=r.VECTOR,n[e.RPOSIX_DATE_VECTOR]=r.VECTOR,n[e.RLIST]=r.LIST,n[e.RDATAFRAME]=r.DATAFRAME,n[e.RFACTOR]=r.FACTOR,n[e.RBOOLEAN_MATRIX]=r.MATRIX,n[e.RNUMERIC_MATRIX]=r.MATRIX,n[e.RINTEGER_MATRIX]=r.MATRIX,n[e.RSTRING_MATRIX]=r.MATRIX),n[t]},assert:function(t){var e,r=this.deployr,n=null,i=t.value;i=o.isArray(i)?i:[i];for(var s=0;s<i.length;s++){var a=i[s];switch(t.type){case r.RNUMERIC:case r.RNUMERIC_VECTOR:case r.RNUMERIC_VECTOR:e=o.isNumber;var u=parseFloat(a);a=isNaN(u)?a:u;break;case r.RINTEGER:case r.RINTEGER_VECTOR:e=o.isNumber;var u=parseFloat(a);a=isNaN(u)?a:u;break;case r.RBOOLEAN:case r.RBOOLEAN_VECTOR:e=o.isBoolean;break;case r.RSTRING:case r.RSTRING_VECTOR:e=o.isString;break;case r.RDATE:case r.RPOSIX_DATE:case r.RDATE_VECTOR:case r.RPOSIX_DATE_VECTOR:e=o.isDate;break;case r.RFACTOR:case r.RDATAFRAME:case r.RINTEGER_MATRIX:case r.RBOOLEAN_MATRIX:case r.RSTRING_MATRIX:e=n}if(e&&!e(a))throw new Error('RInputFormatError: "'+a+'" is not a valid "'+t.type+'" type.')}return t}})},{"./lang":6,"./selfish":14}],14:[function(e,r,o){!("function"!=typeof t?function(t){t(null,"undefined"!=typeof o?o:window)}:t)(function(t,e){"use strict";e.Base=Object.freeze(Object.create(Object.prototype,{"new":{value:function(){var t=Object.create(this);return t.initialize.apply(t,arguments),t}},initialize:{value:function(){}},merge:{value:function(){var t={};return Array.prototype.forEach.call(arguments,function(e){Object.getOwnPropertyNames(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})}),Object.defineProperties(this,t),this}},extend:{value:function(){return Object.freeze(this.merge.apply(Object.create(this),arguments))}}}))})},{}],15:[function(){},{}],16:[function(t,e){function r(){}var o=e.exports={};o.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var o=r.shift();o()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=r,o.once=r,o.off=r,o.emit=r,o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")}},{}],17:[function(t,e){(function(t){!function(r){"use strict";function o(t){p(function(){throw t})}function n(t){return this.then(t,r)}function i(t){return this.then(r,t)}function s(t,e){return this.then(function(e){return h(t)?t.apply(null,f(e)?e:[e]):g.onlyFuncs?e:t},e||r)}function a(t){function e(){t()}return this.then(e,e),this}function u(t){return this.then(function(e){return h(t)?t.apply(null,f(e)?e.splice(0,0,void 0)&&e:[void 0,e]):g.onlyFuncs?e:t},function(e){return t(e)})}function c(t){return this.then(r,t?function(e){throw t(e),e}:o)}function l(t,e){var r=m(t);if(1===r.length&&f(r[0])){if(!r[0].length)return g.fulfilled([]);r=r[0]}var o=[],n=g(),i=r.length;if(i)for(var s=(function(t){r[t]=g.promisify(r[t]),r[t].then(function(s){t in o||(o[t]=e?r[t]:s,--i||n.resolve(o))},function(s){t in o||(e?(o[t]=r[t],--i||n.resolve(o)):n.reject(s))})}),a=0,u=i;u>a;a++)s(a);else n.resolve(o);return n.promise}var p,h=function(t){return"function"==typeof t},f=function(t){return Array.isArray?Array.isArray(t):t instanceof Array},d=function(t){return!(!t||!(typeof t).match(/function|object/))},y=function(t){return t===!1||t===r||null===t},m=function(t,e){return[].slice.call(t,e)},v="undefined",R=typeof TypeError===v?Error:TypeError;if(typeof t!==v&&t.nextTick)p=t.nextTick;else if(typeof MessageChannel!==v){var T=new MessageChannel,j=[];T.port1.onmessage=function(){j.length&&j.shift()()},p=function(t){j.push(t),T.port2.postMessage(0)}}else p=function(t){setTimeout(t,0)};var g=function(t){function e(){if(0!==v){var t,e=T,r=0,o=e.length,n=~v?0:1;for(T=[];o>r;r++)(t=e[r][n])&&t(f)}}function o(t){function r(t){return function(e){return n?void 0:(n=!0,t(e))}}var n=!1;if(v)return this;try{var i=d(t)&&t.then;if(h(i)){if(t===j)throw new R("Promise can't resolve itself");return i.call(t,r(o),r(l)),this}}catch(s){return r(l)(s),this}return m(function(){f=t,v=1,e()}),this}function l(t){return v||m(function(){try{throw t}catch(r){f=r}v=-1,e()}),this}var f,m=(r!==t?t:g.alwaysAsync)?p:function(t){t()},v=0,T=[],j={then:function(t,r){var o=g();return T.push([function(e){try{o.resolve(y(t)?e:h(t)?t(e):g.onlyFuncs?e:t)}catch(r){o.reject(r)}},function(t){if((y(r)||!h(r)&&g.onlyFuncs)&&o.reject(t),r)try{o.resolve(h(r)?r(t):r)}catch(e){o.reject(e)}}]),0!==v&&m(e),o.promise},success:n,error:i,otherwise:i,apply:s,spread:s,ensure:a,nodify:u,rethrow:c,isPending:function(){return!(0!==v)},getStatus:function(){return v}};return j.toSource=j.toString=j.valueOf=function(){return f===r?this:f},{promise:j,resolve:o,fulfill:o,reject:l}};g.deferred=g.defer=g,g.nextTick=p,g.alwaysAsync=!0,g.onlyFuncs=!0,g.resolved=g.fulfilled=function(t){return g(!0).resolve(t).promise},g.rejected=function(t){return g(!0).reject(t).promise},g.wait=function(t){var e=g();return setTimeout(e.resolve,t||0),e.promise},g.delay=function(t,e){var r=g();return setTimeout(function(){try{r.resolve(t.apply(null))}catch(e){r.reject(e)}},e||0),r.promise},g.promisify=function(t){return t&&h(t.then)?t:g.resolved(t)},g.all=function(){return l(arguments,!1)},g.resolveAll=function(){return l(arguments,!0)},g.nodeCapsule=function(t,e){return e||(e=t,t=void 0),function(){var r=g(),o=m(arguments);o.push(function(t,e){t?r.reject(t):r.resolve(arguments.length>2?m(arguments,1):e)});try{e.apply(t,o)}catch(n){r.reject(n)}return r.promise}},typeof window!==v&&(window.D=g),typeof e!==v&&e.exports&&(e.exports=g)}()}).call(this,t("/Users/swells/viewstore/8.x/tt/libraries/javascript/deployr/node_modules/browserify/node_modules/process/browser.js"))},{"/Users/swells/viewstore/8.x/tt/libraries/javascript/deployr/node_modules/browserify/node_modules/process/browser.js":16}],18:[function(t,e){function r(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function n(){if(m.XMLHttpRequest&&("file:"!=m.location.protocol||!m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function i(t){return t===Object(t)}function s(t){if(!i(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function a(t){for(var e,r,o={},n=t.split("&"),i=0,s=n.length;s>i;++i)r=n[i],e=r.split("="),o[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return o}function u(t){var e,r,o,n,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,u=i.length;u>a;++a)r=i[a],e=r.indexOf(":"),o=r.slice(0,e).toLowerCase(),n=v(r.slice(e+1)),s[o]=n;return s}function c(t){return t.split(/ *; */).shift()}function l(t){return y(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),o=r.shift(),n=r.shift();return o&&n&&(t[o]=n),t},{})}function p(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function h(t,e){var r=this;d.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new p(r);"HEAD"==t&&(e.text=null),r.callback(null,e)})}function f(t,e){return"function"==typeof e?new h("GET",t).end(e):1==arguments.length?new h("GET",t):new h(t,e)}var d=t("emitter"),y=t("reduce"),m="undefined"==typeof window?this:window,v="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=s,f.parseString=a,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},p.prototype.get=function(t){return this.header[t.toLowerCase()]},p.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=c(t);var e=l(t);for(var r in e)this[r]=e[r]},p.prototype.parseBody=function(t){var e=f.parse[this.type];return e?e(t):null},p.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},p.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,o="cannot "+e+" "+r+" ("+this.status+")",n=new Error(o);return n.status=this.status,n.method=e,n.url=r,n},f.Response=p,d(h.prototype),h.prototype.use=function(t){return t(this),this},h.prototype.timeout=function(t){return this._timeout=t,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},h.prototype.set=function(t,e){if(i(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},h.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},h.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},h.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},h.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},h.prototype.field=function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},h.prototype.attach=function(t,e,r){return this._formData||(this._formData=new FormData),this._formData.append(t,e,r),this},h.prototype.send=function(t){var e=i(t),r=this.getHeader("Content-Type");if(e&&i(this._data))for(var o in t)this._data[o]=t[o];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(r||this.type("json"),this):this},h.prototype.callback=function(t,e){var r=this._callback;return 2==r.length?r(t,e):t?this.emit("error",t):void r(e)},h.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,i=this.xhr=n(),s=this._query.join("&"),a=this._timeout,u=this._formData||this._data;if(this._callback=t||r,i.onreadystatechange=function(){return 4==i.readyState?0==i.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},i.upload&&(i.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),s&&(s=f.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!o(u)){var c=f.serialize[this.getHeader("Content-Type")];c&&(u=c(u))}for(var l in this.header)null!=this.header[l]&&i.setRequestHeader(l,this.header[l]);return this.emit("request",this),i.send(u),this},f.Request=h,f.get=function(t,e,r){var o=f("GET",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},f.head=function(t,e,r){var o=f("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},f.del=function(t,e){var r=f("DELETE",t);return e&&r.end(e),r},f.patch=function(t,e,r){var o=f("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},f.post=function(t,e,r){var o=f("POST",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},f.put=function(t,e,r){var o=f("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},e.exports=f},{emitter:19,reduce:20}],19:[function(t,e){function r(t){return t?o(t):void 0}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){o.off(t,r),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o,n=0;n<r.length;n++)if(o=r[n],o===e||o.fn===e){r.splice(n,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var o=0,n=r.length;n>o;++o)r[o].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],20:[function(t,e){e.exports=function(t,e,r){for(var o=0,n=t.length,i=3==arguments.length?r:t[o++];n>o;)i=e.call(null,i,t[o],++o,t);return i}},{}],21:[function(t,e){e.exports={name:"deployr",version:"0.0.1",description:"Simplified JavaScript client lib. for making requests to deployr.","private":!0,keywords:["deployr","deployr.io","ajax"],author:"Sean Wells <Sean Wells <sean.wells@revolutionanalytics.com>",contributors:[{name:"Sean Wells",email:"sean.wells@revolutionanalytics.com>"}],repository:{type:"git",url:"git://github.com/deployr/deployr.io.git"},scripts:{start:"./node_modules/.bin/gulp start",build:"./node_modules/.bin/gulp"},devDependencies:{"browserify-shim":"~3.4.1",browserify:"~3.36.0",connect:"~2.14.3","vinyl-source-stream":"~0.1.1",gulp:"~3.6.0","gulp-changed":"~0.3.0","gulp-livereload":"~1.2.0","gulp-notify":"~1.2.4","gulp-uglify":"~0.3.1","gulp-rename":"~1.2.0 ","gulp-clean":"~0.3.0","gulp-jshint":"^1.7.1"},dependencies:{superagent:"0.18.0","d.js":"^0.6.0"},main:"./deployr.js",engines:{node:"*"},license:"Apache 2.0 License",readmeFilename:"README.md"}},{}]},{},[2])(2)});